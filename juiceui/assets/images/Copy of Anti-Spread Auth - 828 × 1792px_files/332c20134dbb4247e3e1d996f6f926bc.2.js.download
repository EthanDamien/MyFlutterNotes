(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["qMFH"],{"MqMFH":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MEEO/");__webpack_require__("MP4bM");self._bfa324c796fedc27ad6e48ccdc3f1756 = self._bfa324c796fedc27ad6e48ccdc3f1756 || {};(function(__c) {'use strict';var zGe=function(a,b){const c=Date.now();return a.eb(new __c.SP({id:a.Ubd.next(),author:a.Xda,Kh:c,Xl:c,content:b.content,$g:b.$g,WQ:"pending",sN:b}))},AGe=function(a,b,c){return __c.Nj(a.viewport.mw(c).transform(b)).top},BGe=function(a){if(a.viewport.pl&&!(!a.reference||a.Vj&&a.Vj.focused||a.isDragging())){var b=a.reference.page,c=a.reference.JJb;if(!a.Ipa(a.reference.target)){var d=a.viewport.lpa();return{offset:AGe(a,d,b)+c*a.config.zoom}}}},FGe=function(a){let b;const c=p8.J(()=>
a.viewport.pl?a.mode:void 0,f=>{f&&(window.clearTimeout(b),b=void 0,"overlay"===f?a.NIa=!0:b=window.setTimeout(p8.l(()=>{a.NIa=!1}),CGe))},{fireImmediately:!0}),d=p8.J(()=>a.S5,f=>{const g=new Set(f.map(({ref:{target:h}})=>h));for(const h of a.sab())h.ref&&!g.has(h.ref.target)&&(h.ref=void 0,a.Vj&&a.Vj.store===h&&(a.Vj=void 0));for(const {ref:h,Vf:l}of f)for(const n of l)!n.ref&&n instanceof q8&&(n.ref=h);for(const h of a.lX.keys())g.has(h)||a.lX.delete(h)},{fireImmediately:!0}),e=p8.J(()=>{if(a.viewport.pl&&
!a.isDragging()&&!a.viewport.NT){var f=a.S5;"story"===a.config.vh&&(f=f.filter(({ref:{page:r}})=>r===a.viewport.Va));if(0!==f.length){var g=[],h=a.viewport.lpa(),l=a.config.zoom,n;for(const {ref:r,ref:{page:t,target:u},Vf:v}of f){f=r.JJb;n&&n.page===t||(n={page:r.page,offset:AGe(a,h,t)});f=n.offset+f*l;for(const w of v)w.ref&&w.ref.target===u&&g.push({store:w,offset:f,height:w.sea})}h=BGe(a);if(!a.zqa&&h)h={type:"button",offset:h.offset};else{const r=a.Vj&&a.Vj.store;h=r?g.findIndex(({store:t})=>
r===t):0;h={type:"comment",EG:-1<h?h:0}}return{reference:h,Crd:g}}}},f=>{if(f){var g=f.reference,h=f.Crd;f=(n,r)=>{for(;0<=n;n--){const {store:t,height:u}=h[n];r-=u;if(t.offset<=r)break;r=t.offset=r}};var l=(n,r)=>{for(;n<h.length;n++){const {store:t,offset:u,height:v}=h[n];t.offset=Math.max(u,r);r=t.offset+v}};l(0,0);if("comment"===g.type){const {store:n,offset:r,height:t}=h[g.EG];n.offset=r;f(g.EG-1,r);l(g.EG+1,r+t)}else if("button"===g.type){const n=g.offset,r=h.findIndex(t=>t.offset>=g.offset);
0>r?f(h.length-1,n):(f(r-1,n),l(r,n+DGe))}else throw new __c.B(g);}},{fireImmediately:!0,scheduler:EGe});return()=>{c();d();e()}},GGe=function(a,b){return!!b.ref&&a.page===b.ref.page&&a.element===b.ref.element&&a.parent===b.ref.parent},HGe=function(a,b){const c=a.EDb(b);return(a=a.lX.get(b))?[...c,a]:c},r8=async function(a,b){if(!a.jf(b)){var {page:c,element:d,parent:e}=__c.p(b.ref);"story"===a.config.vh&&(a.selection.Hi(c),await Promise.resolve());p8.K(()=>{a.Vj={store:b,focused:!0};d?e?a.selection.FN(c,
e,d):a.selection.Gi(c,d):a.selection.Hi(c);IGe(a,b)})}},KGe=function(a,b){const c=new JGe(__c.p(a.reference));c.offset=__c.p(BGe(a)).offset;var d=a.controller;__c.m1c(d.analytics,{da:d.da,source:b});a.lX.set(c.ref.target,c);r8(a,c)},IGe=function(a,b){var c=__c.p(b.ref);const {config:{zoom:d},viewport:e}=a;var f=e.lpa(),g=__c.Nj(e.du().transform(f));const h=g.height,l=g.top,n=l+h;g=e.mw(c.page).transform(f);c=c.element?c.wna.transform(__c.yj(d).then(__c.Qj(g))):g;var r=__c.Nj(c);const t=r.top;r=t+
r.height;b=t+b.sea;t>=l&&t<=n||r>=l&&r<=n&&b>=l&&b<=n||(g.height<=h?b=g.center().y-h/2:c.height<=h?(b=c.center().y-h/2,g=__c.Nj(g),b=Math.max(b,g.top),b=Math.min(b,g.top+g.height-h)):b=t,f=__c.Dj(f).then(e.YX()).transform(0,0).y+b,a.Pkb.animate(()=>e.Rw.y,u=>e.sja(u),f))},LGe=function(a,{ref:b,Nb:c}){c instanceof q8&&(c.ref=b,a.Vj&&a.Vj.focused&&(a.Vj={store:a.Vj.store,focused:!1}));r8(a,c)},MGe=function(a){const b=a.Vj,c=a.gWc;if(0!==c.length){var d=b?c.findIndex(({ref:e,Nb:f})=>f===b.store&&GGe(e,
f)):0;LGe(a,c[b&&b.focused?(d+1)%c.length:d])}},NGe=function(a){const b=a.Vj,c=a.gWc;if(0!==c.length){var d=((b?c.findIndex(({ref:e,Nb:f})=>f===b.store&&GGe(e,f)):c.length)+c.length-1)%c.length;LGe(a,c[d])}},PGe=function(a,b,c,d){c=OGe(a.pbb,a.Ipa,c,a.mh,d);let e;for(let g=c.length-1;0<=g;g--){var f=c[g];const h=new __c.DS(b,f,d),l=a.controller.Nza(f).list;for(const n of l)n.ref=h;0<l.length?e=l[0]:(f=a.lX.get(f))&&(e=f)}return e},OGe=function(a,b,c,d,e){a=__c.K1c(c,e,b,a);a.sort(__c.M1c(d));return a.map(({element:f})=>
f)},EGe=function(a){requestAnimationFrame(()=>setTimeout(a,0))},s8=__webpack_require__("mrSG");var p8=__webpack_require__("2vnA");var QGe=__webpack_require__("Gp1o");var RGe=__webpack_require__,SGe=RGe("TSYQ"),TGe=RGe.n_x(SGe);var t8=__webpack_require__("TyAF");var u8=__webpack_require__("q1tI");var UGe=__webpack_require__("CMvH");var CGe=parseInt("200ms",10),DGe=parseInt("32px",10)+__c.ax,VGe=parseInt("256px",10)+parseInt("48px",10)+__c.ax,v8=class{constructor(){this.sea=1}};__c.k(()=>v8.prototype.sea);Object(s8.b)([p8.E.ref],v8.prototype,"sea",void 0);__c.k(()=>v8.prototype.offset);Object(s8.b)([p8.E.ref],v8.prototype,"offset",void 0);var q8=class extends v8{constructor(a){super();this.ac=a}};__c.k(()=>q8.prototype.ref);Object(s8.b)([p8.E.ref],q8.prototype,"ref",void 0);
var WGe=new __c.du("draft_comment_"),JGe=class extends v8{constructor(a){super();this.ref=a;this.id=WGe.next()}},w8=class{constructor(a,b,c,d,e,f,g,h){this.controller=a;this.document=b;this.config=c;this.isDragging=d;this.selection=e;this.viewport=f;this.Jj=g;this.mh=h;this.lX=new Map;this.T$=new Map;this.Lya=new p8.c;this.Pkb=new __c.kk;this.jPc=p8.q("commentingAvailableMargin");this.NIa=this.Mpb=!1;this.ova=Object(QGe.h)(l=>new __c.ES(l,this.F6a,this.mh,this.Ipa,this.pbb));this.F6a=Object(QGe.h)(l=>
new __c.GS(l,this.Ipa,this.pbb));this.Ipa=l=>this.lX.has(l);this.pbb=l=>(l=this.T$.get(l))?0<l.length:!1}get cOa(){const a=this.mh;var b=this.viewport;this.jPc.reportObserved();if(!b.pl)return 0;const c=b.du();b=b.yBa();return Math.min(VGe,Math.max(0,a?b.sd.x-c.sd.x:c.r.x-b.r.x))}get zqa(){return isNaN(this.cOa)||this.cOa>=VGe}get mode(){if(this.zqa)return"pinned";if(this.Lic)return"overlay";const a=0<this.Zs.length;return!this.Mpb&&a?"overlay":"pinned"}get gWc(){return this.S5.flatMap(a=>{const b=
a.ref;return a.Vf.map(c=>({ref:b,Nb:c}))})}get S5(){const a=[];if(!this.viewport.pl)return[];this.document.ea.toArray().forEach(b=>{var c=HGe(this,b);0<c.length&&a.push({ref:new __c.DS(b),Vf:c});for(const {element:d,parent:e}of this.ova(b).sua)c=HGe(this,d),0<c.length&&a.push({ref:new __c.DS(b,d,e),Vf:c})});return a}get Zs(){return"story"===this.config.vh?this.h6b:this.qDb}get q8b(){return"story"===this.config.vh?this.i6b:this.sDb}sab(){return[...this.controller.sab(),...[...this.T$.values()].flat()]}get qDb(){const a=
[];for(const b of this.sab())b.ref&&a.push(b);return a}get h6b(){return this.qDb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.Va})}get sDb(){return[...this.lX.values()]}get i6b(){return this.sDb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.Va})}k2b(a){this.lX.delete(a.ref.target);this.Vj&&this.Vj.store===a&&(a=a.ref.target.ic,this.Vj=0<a.length?(a=this.controller.vBa(a[a.length-1]))&&{store:a,focused:!1}:void 0)}async vGc(a,
b){var c;const d=zGe(this.controller,b);d.ref=a.ref;this.T$.get(a.ref.target)?null===(c=this.T$.get(a.ref.target))||void 0===c?void 0:c.push(d):this.T$.set(a.ref.target,[d]);this.lX.delete(a.ref.target);d.offset=a.offset;d.sea=a.sea;r8(this,d);a=await __c.v1c(this.controller,a.ref.target,b,p8.l(()=>{d.ac.Nb.WQ="error"}));this.lEb(d,a)}fxc(a){var b;if(null!==(b=a.ref)&&void 0!==b&&b.target){b=this.T$.get(a.ref.target)||[];var c=b.indexOf(a);-1!==c&&(b.splice(c,1),this.T$.set(a.ref.target,[...b]))}}async vyc(a){var b,
c,d;null!==(b=a.ref)&&void 0!==b&&b.target&&(a.ac.Nb.WQ="pending",b=await __c.v1c(this.controller,a.ref.target,{BJ:(null===(c=a.ac.Nb.sN)||void 0===c?void 0:c.BJ)||[],content:a.ac.Nb.content,$g:(null===(d=a.ac.Nb.sN)||void 0===d?void 0:d.$g)||[]},p8.l(()=>{a.ac.Nb.WQ="error"})),this.lEb(a,b))}lEb(a,b){var c,d;a.ac.Rl.map(e=>{var f,g;return this.W1(b,{BJ:(null===(f=e.sN)||void 0===f?void 0:f.BJ)||[],content:e.content,$g:(null===(g=e.sN)||void 0===g?void 0:g.$g)||[]})});this.fxc(a);(null===(c=this.Vj)||
void 0===c?void 0:c.store)!==a||null!==(d=this.Vj)&&void 0!==d&&d.focused||p8.K(()=>this.Vj={store:b,focused:!1});this.jf(a)&&(b.offset=a.offset,b.sea=a.sea,r8(this,b))}rna(a,b){a.ac.Nb.content=b.content;a.ac.Nb.$g=b.$g;a.ac.Nb.Xl=Date.now();a.ac.Nb.WQ="pending";a.ac.Nb.sN=b;return this.controller.rna(a,b,p8.l(()=>a.ac.Nb.WQ="error"))}fOb(a){if(this.Vj&&this.Vj.store===a){const c=__c.p(a.ref);var b=c.target.ic;const d=b.findIndex(e=>e===a.ac.Nb.id);this.Vj=(b=b.slice(0,d).reverse().concat(b.slice(d+
1)).map(e=>this.controller.vBa(e)).find(e=>e&&e.ref?e.ref.element===c.element:!1))&&{store:b,focused:!1}}}MD(a){this.fOb(a);return this.controller.MD(a)}p5(a){this.fOb(a);return this.controller.p5(a,b=>{__c.ts(this.Jj,{Ld:__c.A("LRA3hg",[]),hn:{type:"custom",wB:__c.A("rnE3Tg",[]),wC:b}})})}Fdb(a){return this.controller.Fdb(a)}zkb(a,b){return this.controller.zkb(a,b)}W1(a,b){const c=this.controller.JZb(a,b);return this.controller.W1(a,b,c.id)}sna(a,b,c){return this.controller.sna(a,b,c)}PS(a,b){return this.controller.PS(a,
b)}Vg(a){return this.controller.Vg(a)}Vr(a){return this.controller.Vr(a)}cab(){this.jPc.reportChanged()}get m6(){var a,b=this.Vj?this.Vj.store:this.S5[0];return(b=null===(a=null===b||void 0===b?void 0:b.ref)||void 0===a?void 0:a.page)&&this.document.ea.has(b)?b:void 0}get Lic(){return!!this.Vj&&this.Vj.focused}jf(a){return!!this.Vj&&this.Vj.store===a&&this.Vj.focused}W4a(a){this.jf(a)&&(this.Vj={store:a,focused:!1})}Sgb(a){this.reference=void 0;this.Lya.clear();if(a){var b=a.page,c=a.elements;a=a.parent;
this.Mpb||(this.Mpb=this.Zs.some(e=>e.ref&&e.ref.page===b));if(c){this.Lya.replace(c.flatMap(e=>HGe(this,e)));var d=PGe(this,b,c,a);1===c.length&&(this.reference=new __c.DS(b,c[0],a));!d||this.Vj&&this.Vj.store.ref&&this.Vj.store.ref.element&&c.includes(this.Vj.store.ref.element)||(this.Vj={store:d,focused:!1})}else{this.reference=new __c.DS(b);c=this.EDb(b);for(d of c)d.ref=this.reference;if(c[0]||this.lX.get(b))this.Vj&&this.Vj.store.ref&&this.Vj.store.ref.target===b||(this.Vj={store:c[0],focused:!1});
this.Lya.replace([...HGe(this,b)])}}}EDb(a){return this.controller.Nza(a).list.concat(this.T$.get(a)||[])}};__c.k(()=>w8.prototype.Vj);Object(s8.b)([p8.E.ref],w8.prototype,"Vj",void 0);__c.k(()=>w8.prototype.reference);Object(s8.b)([p8.E.ref],w8.prototype,"reference",void 0);__c.k(()=>w8.prototype.lX);Object(s8.b)([p8.E.shallow],w8.prototype,"lX",void 0);__c.k(()=>w8.prototype.T$);Object(s8.b)([p8.E.deep],w8.prototype,"T$",void 0);__c.k(()=>w8.prototype.Lya);
Object(s8.b)([p8.E.ref],w8.prototype,"Lya",void 0);__c.k(()=>w8.prototype.Mpb);Object(s8.b)([p8.E.ref],w8.prototype,"Mpb",void 0);__c.k(()=>w8.prototype.NIa);Object(s8.b)([p8.E.ref],w8.prototype,"NIa",void 0);__c.k(()=>w8.prototype.cOa);Object(s8.b)([p8.o],w8.prototype,"cOa",null);__c.k(()=>w8.prototype.zqa);Object(s8.b)([p8.o],w8.prototype,"zqa",null);__c.k(()=>w8.prototype.mode);Object(s8.b)([p8.o],w8.prototype,"mode",null);__c.k(()=>w8.prototype.S5);
Object(s8.b)([p8.o.struct],w8.prototype,"S5",null);__c.k(()=>w8.prototype.Zs);Object(s8.b)([p8.o.struct],w8.prototype,"Zs",null);__c.k(()=>w8.prototype.q8b);Object(s8.b)([p8.o.struct],w8.prototype,"q8b",null);__c.k(()=>w8.prototype.qDb);Object(s8.b)([p8.o.struct],w8.prototype,"qDb",null);__c.k(()=>w8.prototype.h6b);Object(s8.b)([p8.o.struct],w8.prototype,"h6b",null);__c.k(()=>w8.prototype.sDb);Object(s8.b)([p8.o.struct],w8.prototype,"sDb",null);__c.k(()=>w8.prototype.i6b);
Object(s8.b)([p8.o.struct],w8.prototype,"i6b",null);__c.k(()=>w8.prototype.k2b);Object(s8.b)([p8.l],w8.prototype,"k2b",null);__c.k(()=>w8.prototype.vGc);Object(s8.b)([p8.l],w8.prototype,"vGc",null);__c.k(()=>w8.prototype.fxc);Object(s8.b)([p8.l],w8.prototype,"fxc",null);__c.k(()=>w8.prototype.vyc);Object(s8.b)([p8.l],w8.prototype,"vyc",null);__c.k(()=>w8.prototype.lEb);Object(s8.b)([p8.l],w8.prototype,"lEb",null);__c.k(()=>w8.prototype.rna);Object(s8.b)([p8.l],w8.prototype,"rna",null);__c.k(()=>w8.prototype.fOb);
Object(s8.b)([p8.l],w8.prototype,"fOb",null);__c.k(()=>w8.prototype.MD);Object(s8.b)([p8.l],w8.prototype,"MD",null);__c.k(()=>w8.prototype.p5);Object(s8.b)([p8.l],w8.prototype,"p5",null);__c.k(()=>w8.prototype.m6);Object(s8.b)([p8.o],w8.prototype,"m6",null);__c.k(()=>w8.prototype.Lic);Object(s8.b)([p8.o],w8.prototype,"Lic",null);var y8=class extends u8.Component{constructor(){super(...arguments);this.Brc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Kh!==a.Xl?e.rna(d,{BJ:(null===(b=a.sN)||void 0===b?void 0:b.BJ)||[],content:a.content,$g:(null===(c=a.sN)||void 0===c?void 0:c.$g)||[]}):e.vyc(d)};this.Crc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Kh!==a.Xl?e.sna(d,a,{BJ:(null===(b=a.sN)||void 0===b?void 0:b.BJ)||[],content:a.content,$g:(null===(c=a.sN)||void 0===c?void 0:c.$g)||[]}):e.zkb(d,
a)};this.Vg=a=>this.props.v.Vg(a);this.Vr=a=>this.props.v.Vr(a);this.Spc=()=>r8(this.props.v,this.props.store);this.DQ=a=>this.props.v.rna(this.props.store,a);this.Pqc=a=>this.props.v.W1(this.props.store,a);this.z$=(a,b)=>this.props.v.sna(this.props.store,a,b);this.Jpc=()=>{this.props.v.Fdb(this.props.store)};this.vz=()=>this.props.v.MD(this.props.store);this.CQ=a=>this.props.v.PS(this.props.store,a);this.ju=()=>this.props.v.p5(this.props.store)}get o3(){const a=this.props.store,b=this.props.v;return this.props.focused||
b.Lya.has(a)}render(){const {store:{ac:a},focused:b,nm:c,Bm:d,bq:e}=this.props;return u8.createElement("div",{id:`comment-${a.Nb.id}`,className:TGe()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.o3})},u8.createElement(x8,{ac:a.Nb,Rl:a.Rl,yu:a.yu,focused:b,Vg:this.Vg,Vr:this.Vr,Bm:d,Pqc:this.Pqc,Spc:this.Spc,DQ:this.DQ,z$:this.z$,Jpc:this.Jpc,vz:this.vz,CQ:this.CQ,ju:this.ju,Brc:this.Brc,Crc:this.Crc,nm:c,bq:e}))}};__c.k(()=>y8.prototype.o3);Object(s8.b)([p8.o],y8.prototype,"o3",null);
y8=Object(s8.b)([t8.b],y8);
var z8=class extends u8.Component{constructor(){super(...arguments);this.LNd=a=>this.props.v.vGc(this.props.store,a);this.Lc=()=>{this.props.v.k2b(this.props.store)}}get o3(){const a=this.props.store,b=this.props.v;return this.props.focused||b.Lya.has(a)}render(){const a=this.props.nm,b=this.props.Bm;return u8.createElement("div",{className:TGe()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.o3})},u8.createElement(__c.SR,{type:"comment",nm:a,Emb:!0,onSubmit:this.LNd,Lc:this.Lc,Bm:b}))}};
__c.k(()=>z8.prototype.o3);Object(s8.b)([p8.o],z8.prototype,"o3",null);z8=Object(s8.b)([t8.b],z8);
var x8=class extends u8.Component{constructor(){super(...arguments);this.HGb=!0;this.ti=a=>{const b=this.props.Brc,c=this.props.Crc;a===this.props.ac?b(a):c(a)};this.YM=(a,b)=>{const c=this.props.DQ,d=this.props.z$;return a===this.props.ac?c(b):d(a,b)};this.Mm=a=>{const b=this.props.vz,c=this.props.CQ;return a===this.props.ac?b():c(a)}}render(){const a=this.props.Rl,b=this.props.Bm,c=this.props.Pqc,d=this.props.Jpc,e=this.props.nm,f=this.props.yu-a.length,g={onFocus:this.props.Spc,YM:this.YM,Mm:this.Mm,
zFa:this.props.ju,ti:this.ti,nm:e,Vg:this.props.Vg,Vr:this.props.Vr,Bm:b,bq:this.props.bq};return u8.createElement(u8.Fragment,null,u8.createElement(A8,Object.assign({},g,{Nb:this.props.ac,type:"comment"})),0<f&&u8.createElement("button",{className:"dTVvdQ gLTEuQ XvGYmg",onClick:d},__c.A("ZKrOZQ",[f])),a.map(h=>u8.createElement(A8,Object.assign({},g,{key:h.id,Nb:h,type:"reply"}))),this.ZDc&&u8.createElement(__c.SR,{type:"reply",onSubmit:c,onChange:this.Oqc,nm:e,Emb:!0,Bm:b}))}get ZDc(){return this.props.focused||
!this.HGb}Oqc(a){this.HGb=!a}};__c.k(()=>x8.prototype.HGb);Object(s8.b)([p8.E.ref],x8.prototype,"HGb",void 0);__c.k(()=>x8.prototype.ZDc);Object(s8.b)([p8.o],x8.prototype,"ZDc",null);__c.k(()=>x8.prototype.Oqc);Object(s8.b)([p8.l.bound],x8.prototype,"Oqc",null);x8=Object(s8.b)([t8.b],x8);
var A8=class extends u8.Component{constructor(){super(...arguments);this.DA=!1;this.ti=()=>{const a=this.props.ti;a(this.props.Nb)};this.ju=()=>{const a=this.props.zFa;return a(this.props.Nb)};this.YM=a=>{const b=this.props.Nb,c=this.props.YM;this.DA=!1;return c(b,a)};this.Efc=()=>{this.DA=!0;this.props.onFocus()}}render(){const a=this.props.Bm,b=this.props.Nb,c=this.props.nm,d=this.props.type,e=this.props.bq;return this.DA?u8.createElement("div",{className:"R3c_Fg"},u8.createElement(__c.SR,{type:d,
onSubmit:this.YM,Lc:this.upc,nm:c,Emb:!0,Bm:a,Nb:b})):u8.createElement(e,{zFa:"comment"===d?this.ju:void 0,type:d,pending:"pending"===b.WQ,error:"error"===b.WQ?u8.createElement(XGe,{ti:this.ti}):void 0,key:b.id,Nb:b,c4:this.c4})}upc(){this.DA=!1}get c4(){const a=this.props.Nb,b=this.props.Vg,c=this.props.Vr,d=this.props.Mm,e="reply"===this.props.type,f=[];b(a)&&f.push({Icon:__c.Zu,label:e?__c.A("r/GefQ",[]):__c.A("L1Ai+w",[]),onMouseUp:()=>this.Efc()});c(a)&&f.push({Icon:__c.AC,label:e?__c.A("17eDJA",
[]):__c.A("Cj3aIw",[]),onMouseUp:()=>d(a)});return f}};__c.k(()=>A8.prototype.DA);Object(s8.b)([p8.E.ref],A8.prototype,"DA",void 0);__c.k(()=>A8.prototype.upc);Object(s8.b)([p8.l.bound],A8.prototype,"upc",null);__c.k(()=>A8.prototype.YM);Object(s8.b)([p8.l.bound],A8.prototype,"YM",void 0);__c.k(()=>A8.prototype.Efc);Object(s8.b)([p8.l],A8.prototype,"Efc",void 0);__c.k(()=>A8.prototype.c4);Object(s8.b)([p8.o],A8.prototype,"c4",null);A8=Object(s8.b)([t8.b],A8);
var XGe=({ti:a})=>u8.createElement(u8.Fragment,null,u8.createElement("span",null,__c.A("13+qHQ",[])," "),u8.createElement(__c.ty,{onClick:a},__c.A("Frp0dA",[])));var YGe=parseInt("256px",10),D8=class extends u8.Component{constructor(){super(...arguments);this.cab=()=>{this.props.v.cab()};this.dgd=t8.b(a=>u8.createElement(y8,Object.assign({},a,{bq:this.props.bq})))}componentDidMount(){const a=this.props.v,b=this.props.selection;Object(t8.a)(this,FGe(a));Object(t8.a)(this,p8.J(()=>{var c;a:{if(c=b.state)switch(c.type){case "audio":break;case "pages":c={page:c.page};break a;case "elements":c=c.inner&&"group"===c.inner.type?{page:c.page,elements:c.inner.Za,parent:c.inner.group}:
{page:c.page,elements:c.elements};break a;default:throw new __c.B(c);}c=void 0}return c},c=>a.Sgb(c),{fireImmediately:!0}))}get $3b(){const {v:{mode:a,cOa:b,mh:c}}=this.props;if("pinned"===a||0>=b)return 0;if("overlay"===a)return(c?-1:1)*(b-YGe-4*__c.ax);throw new __c.B(a);}render(){const a=this.props.v,b=this.props.nm,c=this.props.zq,d=a.mode,e=a.cOa,f=a.zqa,g=a.mh;return u8.createElement(u8.Fragment,null,u8.createElement(B8,{v:a}),u8.createElement("div",{className:TGe()("cJaGbg",{["_4xrvYw"]:"overlay"===
d}),style:{width:`${e}px`,transform:`translateX(${this.$3b}px)`}},a.Zs.map(h=>u8.createElement(C8,{key:h.ac.Nb.id,pMc:this.dgd,store:h,v:a,mh:g,nm:b,focused:a.jf(h),Bm:1===c.status,zqa:f,onMouseDown:this.cab})),a.q8b.map(h=>u8.createElement(C8,{key:h.id,pMc:z8,store:h,v:a,mh:g,nm:b,focused:a.jf(h),Bm:1===c.status,zqa:f,onMouseDown:this.cab}))))}};__c.k(()=>D8.prototype.$3b);Object(s8.b)([p8.o],D8.prototype,"$3b",null);D8=Object(s8.b)([t8.b],D8);
var B8=class extends u8.Component{componentDidMount(){Object(t8.a)(this,p8.J(()=>BGe(this.props.v),a=>this.offset=a&&a.offset,{equals:p8.n.structural,scheduler:a=>requestAnimationFrame(()=>setTimeout(a,0))}))}render(){return u8.createElement(__c.PMb,null,null!=this.offset&&u8.createElement(__c.Xs,{label:__c.A("CRsrKA",[])},u8.createElement("button",{className:"oPuYeA qtDcVg Y6qKQQ",onClick:this.HEa,style:{transform:`translateY(${this.offset}px)`}},u8.createElement(__c.VF,{size:"medium"}))))}HEa(){const a=
this.props.v;a.cab();KGe(a,"comment_button")}};__c.k(()=>B8.prototype.offset);Object(s8.b)([p8.E.ref],B8.prototype,"offset",void 0);__c.k(()=>B8.prototype.HEa);Object(s8.b)([p8.l.bound],B8.prototype,"HEa",null);B8=Object(s8.b)([t8.b],B8);
var C8=class extends u8.Component{constructor(){super(...arguments);this.element=u8.createRef();this.Qha=()=>{const a=this.props.v,b=this.props.store;{const c=document.getSelection&&document.getSelection();c&&"Range"===c.type&&this.element.current&&c.containsNode(this.element.current,!0)&&c.removeAllRanges()}a.jf(b)&&document.addEventListener("mouseup",this.W4a,{once:!0})}}render(){const a=this.props.pMc;var b=this.props.zqa,c=this.props.mh;const d=this.props.store,e=this.props.focused,f=TGe()("_3qDOXA qtDcVg",
{["jAmg0A"]:e,["kR-vew"]:b});b=(b?-5:-4)*__c.ax;c=null!=d.offset?`translate(${e?(c?-1:1)*b:0}px, ${d.offset}px)`:`matrix3d(0${", 0".repeat(15)})`;return u8.createElement(__c.yF,{GQ:this.Qha},u8.createElement("div",{ref:this.element,style:{transform:c},className:f,onMouseDown:this.onMouseDown},u8.createElement(UGe.a,{client:!0,onResize:this.hqc},({measureRef:g})=>u8.createElement("div",{ref:g,className:"eC5Pag"},u8.createElement(a,Object.assign({},this.props))))))}hqc(a){this.props.store.sea=a.client.height+
__c.ax}onMouseDown(){const a=this.props.onMouseDown;r8(this.props.v,this.props.store);a()}W4a(){this.props.v.W4a(this.props.store)}};__c.k(()=>C8.prototype.hqc);Object(s8.b)([p8.l.bound],C8.prototype,"hqc",null);__c.k(()=>C8.prototype.onMouseDown);Object(s8.b)([p8.l.bound],C8.prototype,"onMouseDown",null);__c.k(()=>C8.prototype.W4a);Object(s8.b)([p8.l.bound],C8.prototype,"W4a",null);C8=Object(s8.b)([t8.b],C8);__c.nfd={yAd:function({analytics:a,Yr:b,ca:c,config:d,mh:e,Xda:f,da:g,ci:h,Yxb:l,document:n,isDragging:r,nm:t,rb:u,zq:v,selection:w,dLa:z,viewport:C,undo:F,bq:K}){const J=new __c.nS(a,g,h,l,n,b,z,f,F,P=>new q8(P),P=>__c.ts(u,{Ld:P})),O=new w8(J,n,d,r,w,C,u,e);return new __c.CS({controller:J,ca:c,Component:()=>u8.createElement(D8,{config:d,v:O,nm:t,zq:v,selection:w,bq:K}),SSa:()=>{},Leb:P=>{BGe(O)&&KGe(O,P)},zja:P=>{(P=J.vBa(P))&&P.ref&&r8(O,P)},ZRb:()=>MGe(O),gSb:()=>NGe(O),D3a:()=>O.NIa})}};
}).call(self, self._bfa324c796fedc27ad6e48ccdc3f1756);}},[["MqMFH","fDYT","EEO/","K2W9","P4bM","QA57"]]])
//# sourceMappingURL=sourcemaps/332c20134dbb4247e3e1d996f6f926bc.2.js.map